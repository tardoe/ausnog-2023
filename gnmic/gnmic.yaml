port: 57400
timeout: 10s
insecure: true

targets:
  edge1.tdr.id.au:
  edge2.tdr.id.au:
  pe1.tdr.id.au:
  pe2.tdr.id.au:

subscriptions:
  openconfig_interfaces:
      paths:
        - /interfaces/interface[name=*]/state/counters
        - /interfaces/interface[name=*]/state/admin-status
        - /interfaces/interface[name=*]/state/oper-status
        - /interfaces/interface[name=*]/state/last-change
        - /interfaces/interface[name=*]/ethernet/state/port-speed
        - /interfaces/interface[name=*]/ethernet/state/counters/in-crc-errors
        - /interfaces/interface[name=*]/ethernet/state/counters/in-fragment-frames
        - /interfaces/interface[name=*]/ethernet/state/counters/in-jabber-frames
        - /interfaces/interface[name=*]/ethernet/state/counters/in-oversize-frames
      stream-mode: sample
      sample-interval: 10s

outputs:
  prometheus:
      type: prometheus_write
      url: http://prometheus:9090/api/v1/write
      metadata:
        include: true
